<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J. W. Foods</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <header class="p-3 bg-light text-white fixed-top">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="#" class="navbar-brand text-dark">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="J.W. Foods Logo" style="height: 50px;">
            </a>
            <nav class="d-none d-md-block">
                <ul class="nav">
                    <li class="nav-item"><a href="#services" class="nav-link text-dark">Services Offered</a></li>
                    <li class="nav-item"><a href="#areas" class="nav-link text-dark">Areas of Operation</a></li>
                    <li class="nav-item"><a href="#corporate" class="nav-link text-dark">Corporate Info</a></li>
                    <li class="nav-item"><a href="#contact" class="nav-link text-dark">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container" style="margin-top: 80px;">
        <section id="introduction" class="mb-5 p-4 bg-primary text-white">
            <h2>Introduction</h2>
            <p>J. W. Foods is a company located in the Greater Toronto Area that specializes in... </p>
            <img src="{{ url_for('static', filename='images/toronto.jpg') }}" class="img-fluid" alt="Toronto skyline">
        </section>

        <section id="services" class="mb-5 p-4 bg-secondary text-white">
            <h2>Services Offered</h2>
            <p>We provide a range of services including...</p>
            <img src="{{ url_for('static', filename='images/delivery.jpg') }}" class="img-fluid" alt="Delivery truck">

            <div class="delivery-calculator mt-4">
                <h4>Delivery Price Calculator</h4>
                <form id="calculatorForm">
                    <div class="mb-3">
                        <label for="distance" class="form-label">Select Distance (km):</label>
                        <select id="distance" name="distance" class="form-select">
                            <option value="10">10 km</option>
                            <option value="25">25 km</option>
                            <option value="50">50 km</option>
                            <option value="100">100 km</option>
                            <option value="150">Over 100 km</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="weight" class="form-label">Package Weight (kg):</label>
                        <input type="number" id="weight" name="weight" class="form-control" value="1" min="1">
                    </div>
                    <button type="submit" class="btn btn-dark">Calculate</button>
                </form>
                <div id="result" class="mt-3"></div>
            </div>
        </section>

        <section id="areas" class="mb-5 p-4 bg-primary text-white">
            <h2>Areas of Operation</h2>
            <p>Our operations cover the Greater Toronto Area and surrounding regions...</p>
        </section>

        <section id="corporate" class="mb-5 p-4 bg-secondary text-white">
            <h2>Corporate Information</h2>
            <p>J.W. Foods is committed to...</p>
        </section>

        <section id="contact" class="mb-5 p-4 bg-primary text-white">
            <h2>Contact</h2>
            <p>You can reach us at...</p>
        </section>

    </main>

    <script>
        document.getElementById('calculatorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const distance = document.getElementById('distance').value;
            const weight = document.getElementById('weight').value;

            fetch('/calculate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ distance: distance, weight: weight }),
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = `<p>The estimated delivery price is: $${data.price.toFixed(2)}</p>`;
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>